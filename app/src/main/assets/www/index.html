<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>StreamZone - Home</title>
  <!-- Tailwind CDN (r√°pido para prototipo) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React + ReactDOM + Babel para transpilar JSX en runtime (prototipo) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* Peque√±os ajustes para que se vea mejor en WebView */
    body { margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
    #root { min-height:100vh; }

    /* Paleta y utilidades (valores proporcionados por el usuario) */
    :root{
      --blue-600: #2563EB; /* blue-600 */
      --blue-500: #3B82F6; /* blue-500 */
      --purple-600: #9333EA; /* purple-600 */
      --purple-500: #A855F7; /* purple-500 */
      --pink-600:  #DB2777; /* pink-600 */
      --pink-500:  #EC4899; /* pink-500 */
      --emerald-600: #059669;
      --emerald-500: #10B981;
      --zinc-900: #18181B;
      --zinc-800: #27272A;
      --zinc-700: #3f3f46;
      --gray-900: #111827;
      --gray-800: #1f2937;

      /* Extras para sombras/bordes */
      --card-shadow: 0 18px 50px rgba(2,6,23,0.6);
      --card-inset: inset 0 -6px 14px rgba(0,0,0,0.45);
    }

    /* HERO section: gradiente de capas con opacidades seg√∫n an√°lisis */
    .hero-section{
      /* 3 capas: overlay negro, gradiente de color sutil, base oscuro */
      background:
        linear-gradient(180deg, rgba(0,0,0,0.70), rgba(0,0,0,0.30), rgba(0,0,0,0)),
        linear-gradient(90deg, rgba(37,99,235,0.10), rgba(147,51,234,0.10), rgba(219,39,119,0.10)),
        linear-gradient(90deg, var(--zinc-900), var(--zinc-800), var(--zinc-700));
      background-blend-mode: normal, screen, normal;
      position: relative;
      overflow: hidden;
    }

    /* efectos circulares del hero (left/right) */
    .hero-circle-left{ background: linear-gradient(180deg, rgba(59,130,246,0.20), rgba(59,130,246,0.12)); width: 220px; height:220px; border-radius:50%; position:absolute; left:-60px; top:-40px; filter: blur(26px); }
    .hero-circle-right{ background: linear-gradient(180deg, rgba(168,85,247,0.20), rgba(168,85,247,0.12)); width: 260px; height:260px; border-radius:50%; position:absolute; right:-80px; top:-20px; filter: blur(30px); }

    /* Secci√≥n cat√°logo - modo oscuro (por defecto isDark=true) */
    .catalog-section{
      /* base oscuro + overlay de color 50% */
      background:
        linear-gradient(90deg, rgba(37,99,235,0.50), rgba(147,51,234,0.50), rgba(219,39,119,0.50)),
        linear-gradient(90deg, var(--zinc-900), var(--zinc-800));
      background-blend-mode: screen, normal;
      padding: 2rem 0;
      border-radius: 1rem;
    }

    /* Footer dark */
    .footer-section{ background: linear-gradient(90deg, var(--zinc-900), var(--zinc-800)); }

    /* Floating cards (hero illustration) */
    .floating-card{
      background: linear-gradient(135deg, rgba(24,24,27,0.80), rgba(11,102,209,0.80));
      box-shadow: var(--card-shadow);
      border-radius: 1rem;
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* Service card specific */
    .service-card-outer{ border-radius: 1.25rem; padding: .25rem; }
    .service-card{ border-radius: 1rem; padding: 1.5rem; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.16)); box-shadow: var(--card-shadow); }
    .service-icon{ width:84px; height:84px; border-radius: 12px; display:flex; align-items:center; justify-content:center; color:white; font-size:1.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.6); }
    .price-pill{ display:inline-block; padding: .5rem 1.5rem; border-radius: 999px; font-weight:800; font-size:1.25rem; color: #fff; background: linear-gradient(90deg,#27123a,#3b1b54); box-shadow: var(--card-inset); border: 1px solid rgba(255,255,255,0.04); }
    .access-pill{ padding: .35rem .9rem; border-radius:999px; background: rgba(16,185,129,0.12); color: rgba(16,185,129,1); font-size: .9rem; }
    .btn-gradient{ padding:.75rem 1.5rem; border-radius: 999px; color:white; font-weight:600; background: linear-gradient(90deg, var(--blue-600), var(--pink-500)); box-shadow: 0 8px 30px rgba(236,72,153,0.12); border:none; }

    /* small responsive tweaks */
    @media (max-width: 640px){ .hero-circle-left, .hero-circle-right{ display:none; } }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    //jere: archivo generado e integrado en Android WebView (assets/www/index.html)

    const { useState, useEffect } = React;

    // Mock SERVICES (simplificado) - jere: reemplazar por tus datos reales si los provees
    const SERVICES = [
      { id: 'netflix', title: 'Netflix', price: 'US$ 4,00 /mes', desc: 'Acceso inmediato' },
      { id: 'disney_plus_premium', title: 'Disney+ Premium', price: 'US$ 3,75 /mes', desc: 'Acceso inmediato' },
      { id: 'disney_plus_standard', title: 'Disney+ Standard', price: 'US$ 3,25 /mes', desc: 'Acceso inmediato' },
      { id: 'max', title: 'Max', price: 'US$ 3,00 /mes', desc: 'Acceso inmediato' }
    ];

    //jere: componente ServiceCard m√≠nimo para mostrar la tarjeta
    const ServiceCard = ({ s, onReserve, isDark }) => {
      const iconColors = {
        netflix: { gradientFrom: '#ff4b4b', gradientTo: '#b20a0a' },
        disney_plus_premium: { gradientFrom: '#4ea1ff', gradientTo: '#1766d6' },
        disney_plus_standard: { gradientFrom: '#4ea1ff', gradientTo: '#1766d6' },
        max: { gradientFrom: '#b374ff', gradientTo: '#6b2bff' },
        vix: { gradientFrom: '#ff8a3d', gradientTo: '#ff5a00' },
        prime: { gradientFrom: '#2fb0ff', gradientTo: '#0b66d1' },
        default: { gradientFrom: '#6b7280', gradientTo: '#374151' }
      };
      const col = iconColors[s.id] || iconColors.default;

      return (
        <div className={`relative service-card-outer`}>
          {/* badge verde superior derecho */}
          <div className="absolute -top-3 -right-3 w-10 h-10 rounded-full" style={{background: 'linear-gradient(180deg, rgba(16,185,129,1), rgba(5,150,105,1))', boxShadow: '0 6px 18px rgba(16,185,129,0.2)', color:'#fff', display:'flex', alignItems:'center', justifyContent:'center', fontSize:14}}>‚úì</div>

          <div className="service-card">
             <div className="flex flex-col items-center gap-4">
               <div className="service-icon" style={{background: `linear-gradient(135deg, ${col.gradientFrom}, ${col.gradientTo})`}}>{s.title[0]}</div>

               <div className="mt-2 text-xl font-bold">{s.title}</div>

               <div className="mt-2">
                 <div className="price-pill">{s.price}</div>
               </div>

               <div className="mt-2"><span className="access-pill">{s.desc}</span></div>

               <button onClick={() => onReserve(s)} className="mt-4 btn-gradient">üöÄ Comprar Ahora ‚ú®</button>
             </div>
           </div>
         </div>
       );
     }

    function HomeApp(props) {
      const [isDark, setIsDark] = useState(true);
      const [user, setUser] = useState(null);

      useEffect(() => {
        // Obtener query param user del URL (enviado por Android)
        const params = new URLSearchParams(window.location.search);
        const u = params.get('user');
        if (u) setUser(u);
      }, []);

      //jere: mostrar saludo cuando el usuario est√© presente (proveniente de LoginActivity)
      const Greeting = () => {
        if (!user) return null;
        return (
          <div className="mt-4 text-lg font-semibold text-blue-300">Bienvenido, {user}</div>
        );
      };

      const onReserve = (service) => {
        // jere: si la interfaz Android existe, notificamos al host
        if (window.Android && window.Android.onReserve) {
          window.Android.onReserve(JSON.stringify(service));
        } else {
          alert('Reservar: ' + service.title);
        }
      };

      const setView = (v) => alert('Cambiar vista a: ' + v);

      return (
        <div className={`${isDark ? 'bg-zinc-900 text-white' : 'bg-white text-zinc-900'} min-h-screen`}>
          <main className="max-w-7xl mx-auto px-4 py-8">
            {/* Hero */}
            <section className="grid lg:grid-cols-2 gap-8 items-center py-8 hero-section">
              <div>
                <div className="inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 mb-3">
                  <span className="text-lg">üé¨</span>
                  <span className="text-xs font-semibold text-blue-400">Entretenimiento Premium</span>
                </div>
                <h1 className="text-4xl font-extrabold"> <span className="bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent">StreamZone</span></h1>
                {/*jere: saludo din√°mico cuando el usuario hizo login */}
                <Greeting />
                <p className="mt-4 font-semibold">Tus plataformas favoritas, al mejor precio</p>
                <p className="mt-2 text-sm">Reserva por WhatsApp, recibe acceso con soporte inmediato y renueva sin complicaciones. <span className="font-semibold text-blue-400">Administra tus servicios desde tu cuenta.</span></p>

                <div className="mt-6 flex gap-3">
                  {user ? (
                    <a href="#catalogo" className="px-4 py-3 rounded-2xl bg-gradient-to-r from-blue-600 to-purple-700 text-white">‚ú® Ver Cat√°logo üöÄ</a>
                  ) : (
                    <button onClick={() => setView('auth')} className="px-4 py-3 rounded-2xl bg-gradient-to-r from-blue-600 to-purple-700 text-white">üîê Iniciar Sesi√≥n ‚ú®</button>
                  )}
                  <button onClick={() => setView('combos')} className="px-4 py-3 rounded-2xl bg-white text-purple-600">üì¶ Ver Combos</button>
                </div>

                <div className="mt-6 grid grid-cols-3 gap-3 text-center">
                  <div>
                    <div className="text-blue-400 font-bold">500+</div>
                    <div className="text-xs text-gray-300">Clientes felices</div>
                  </div>
                  <div>
                    <div className="text-purple-400 font-bold">24/7</div>
                    <div className="text-xs text-gray-300">Soporte</div>
                  </div>
                  <div>
                    <div className="text-green-400 font-bold">100%</div>
                    <div className="text-xs text-gray-300">Garant√≠a</div>
                  </div>
                </div>
              </div>

              <div className="p-6 rounded-2xl floating-card border border-blue-700/50">
                <div className="hero-circle-left"></div>
                <div className="hero-circle-right"></div>
                <div className="relative h-56 flex items-center justify-center">
                  <div className="absolute top-2 left-2 w-16 h-16 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center text-white">üé¨</div>
                  <div className="absolute top-4 right-4 w-14 h-14 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 flex items-center justify-center text-white">üéß</div>
                  <div className="absolute bottom-4 left-4 w-12 h-12 rounded-lg bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center text-white">üì±</div>
                  <div className="absolute bottom-4 right-4 w-12 h-12 rounded-lg bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white">üíæ</div>

                  <img src="https://i.imgur.com/your-image-url.png" className="rounded-2xl shadow-lg" style={{objectFit:'cover'}} />
                </div>
              </div>
            </section>

            {/* Cat√°logo (servicios) */}
            <section id="catalogo" className="py-8 catalog-section">
              <div className="text-center mb-8">
                <h2 className="text-3xl font-extrabold">Nuestros Servicios</h2>
                <p className="mt-2 text-sm text-gray-500">Elige tu plan y comienza a disfrutar al instante</p>
              </div>

              <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
                {SERVICES.map(s => (
                  <ServiceCard key={s.id} s={s} onReserve={onReserve} isDark={isDark} />
                ))}
              </div>
            </section>

            {/* Footer */}
            <footer className="mt-12 py-8 footer-section text-gray-300 rounded-2xl p-6">
              <div className="text-center">
                <p className="text-sm text-gray-400">¬© 2023 StreamZone. Todos los derechos reservados.</p>
              </div>
            </footer>
          </main>
        </div>
      );
    }

    // Renderizamos la app
    ReactDOM.render(<HomeApp />, document.getElementById('root'));
  </script>
</body>
</html>
