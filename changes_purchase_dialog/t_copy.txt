(Copia de t.txt)

Descripci√≥n de cambios realizados

Objetivo:
- Mostrar una ventana modal igual a la de la imagen cuando se complete la compra. La ventana debe contener el n√∫mero fijo +593 984 280 334 y permitir que el cliente haga click en el agente para abrir WhatsApp con un mensaje profesional (incluye emojis).

Archivos a√±adidos:
1) app/src/main/res/layout/dialog_purchase_complete.xml
   - Layout para el di√°logo de compra completada. Contiene t√≠tulo, caja de "PASO OBLIGATORIO" y un bot√≥n verde con el texto: "üë©‚Äçüíº  Agente 1 (+593 98 428 0334)".

2) app/src/main/java/com/universidad/streamzone/ui/home/PurchaseCompleteDialogFragment.kt
   - Nuevo DialogFragment que muestra `dialog_purchase_complete.xml`.
   - Al pulsar el bot√≥n del agente abre WhatsApp usando el n√∫mero fijo (sin espacios): 593984280334.
   - Mensaje predefinido profesional (en espa√±ol) con emojis:
     "Hola üëã, he realizado una compra en StreamZone (servicio: <SERVICIO> - total: <TOTAL>). Por favor, Agente, acepte mi solicitud y confirme la activaci√≥n. Muchas gracias üôè‚ú®"
   - Muestra Toast de error si no puede abrir WhatsApp.

Archivos modificados:
1) app/src/main/java/com/universidad/streamzone/ui/home/PurchaseDialogFragment.kt
   - Cambio principal: el bot√≥n "Completar" ahora muestra el nuevo `PurchaseCompleteDialogFragment` en lugar de abrir directamente `ReserveActivity`.
   - Se mantiene un fallback: si mostrar el di√°logo falla por cualquier motivo, se usa el flujo antiguo que abre `ReserveActivity` con los extras.
   - No se cambi√≥ la UI existente del di√°logo de compra; solo se cambi√≥ el comportamiento al pulsar "Completar".

Notas de implementaci√≥n y decisiones:
- N√∫mero fijo usado exactamente como solicitaste: 593984280334 (se construye el enlace con https://wa.me/593984280334?text=... ).
- Mensaje: redactado profesionalmente y con emojis, tal como solicitaste. Se incluyen servicio y total (si est√°n disponibles) para que el agente tenga contexto.
- El di√°logo `dialog_purchase_complete.xml` tiene estilos simples que reutilizan drawables ya existentes (`dialog_bg`, `important_box`, `button_gradient_green`), por lo que deber√≠a encajar visualmente con la app.
- A√±ad√≠ un bot√≥n de cerrar (X) para permitir cerrar la ventana.

C√≥mo probar localmente (smoke test):
1) Desde la app, en `HomeNativeActivity` seleccionar un servicio y abrir el di√°logo de compra.
2) En `PurchaseDialogFragment`, completar selecci√≥n de duraci√≥n/dispositivos si quieres y pulsar "Completar".
3) Debe aparecer la ventana "¬°Compra Registrada! üéâ" (nuevo di√°logo). Pulsar "Agente 1" abre WhatsApp con el n√∫mero +593984280334 y el mensaje predefinido.
4) Si WhatsApp no est√° instalado, el Intent abrir√° el navegador con `https://wa.me/...` o fallar√° con un Toast.

Archivos a√±adidos/modificados resumen:
- A√ëADIDOS:
  - app/src/main/res/layout/dialog_purchase_complete.xml
  - app/src/main/java/com/universidad/streamzone/ui/home/PurchaseCompleteDialogFragment.kt
  - t.txt (este archivo)
- MODIFICADOS:
  - app/src/main/java/com/universidad/streamzone/ui/home/PurchaseDialogFragment.kt

Commit:
- Se cre√≥ un commit con un mensaje detallado (incluye todos los cambios listados). Revisa el historial de git para confirmar.

Si quieres que:
- A√±ada m√°s agentes (lista) o parametrice el n√∫mero desde resources/strings.xml, lo hago en la siguiente iteraci√≥n.
- Cambie el texto del mensaje profesional, puedo proponer 2-3 variantes para elegir.

Fin de t.txt.

Correguido logos, se corrigui logos ya que cuando generabas las compras no se estaban mstrnado todos los logos
fix(purchase-dialog): cargar correctamente logos de servicios y corregir fallo de compilaci√≥n
  Cuerpo (detallado):
  Added deterministic logo mapping and improved fallback heuristic
  A√±adido LOGO_MAP (serviceId -> drawable) y usado como prioridad para asignar logos.
  Mejorada la heur√≠stica de b√∫squeda de drawables con normalizaci√≥n (quita acentos, '+'‚Üí'plus', '&'‚Üí'and') y variantes (_standard/_premium/_hd/_plus).
  Corregidas interpolaciones Kotlin mal formadas que causaban el error de compilaci√≥n en kapt.